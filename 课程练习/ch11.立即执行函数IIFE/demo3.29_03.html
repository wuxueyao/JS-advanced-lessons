<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>利用立即执行来实现定时器</title>
</head>
<body>
    
</body>
<script>
    // for(var i = 0;i<3;i++){
    //     //下边这个是异步执行，肯定会比for循环执行结束的时间
    //     setTimeout(function(){
    //         console.log(new Date(),i);//都是3
    //     },1000*i)
    // }

    for(var i=0;i<3;i++){
        (function(j){
            setTimeout(function(){
                console.log(new Date(),j);
            },1000*j)
        })(i)
    }


    /*
        立即执行可以形成不同的作用域，可以避免变量污染
        可以避免非期望的变量共享问题
    */
</script>
</html>